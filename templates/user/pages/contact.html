{% extends 'user/master/master.html' %}
{% load static %}
{% block content %}
<style>

.wrap {
  width: 100%;
  overflow: hidden;
  background: #fff;
  border-radius: 5px;
  -webkit-box-shadow: 0px 10px 34px -15px rgba(0, 0, 0, 0.24);
  -moz-box-shadow: 0px 10px 34px -15px rgba(0, 0, 0, 0.24);
  box-shadow: 0px 10px 34px -15px rgba(0, 0, 0, 0.24); }
  .wrap .img {
    height: 200px; }

.form-wrap {
  position: relative; }
  .login-wrap h3 {
    font-weight: 300; }


.form-floating.success input{
	border-color: #09c372;
}

.form-floating.error input{
	border-color: #ff3860;
}

.form-floating .error{
	color: #ff3860;
	font-size :  9px;
	height : 13px;
}
</style>
     <!-- Contact Start -->
        <div class="container-xxl py-5">
            <div class="container">
                <h1 class="text-center mb-5 wow fadeInUp" data-wow-delay="0.1s">Contact For Any Query</h1>
                <div class="row g-4">
                    <div class="col-12">
                        <div class="row gy-4">
                            <div class="col-md-4 wow fadeIn" data-wow-delay="0.1s">
                                <div class="d-flex align-items-center bg-light rounded p-4">
                                    <div class="bg-white border rounded d-flex flex-shrink-0 align-items-center justify-content-center me-3" style="width: 45px; height: 45px;">
                                        <i class="fa fa-map-marker-alt text-primary"></i>
                                    </div>
                                    <span>123 Street, New York, USA</span>
                                </div>
                            </div>
                            <div class="col-md-4 wow fadeIn" data-wow-delay="0.3s">
                                <div class="d-flex align-items-center bg-light rounded p-4">
                                    <div class="bg-white border rounded d-flex flex-shrink-0 align-items-center justify-content-center me-3" style="width: 45px; height: 45px;">
                                        <i class="fa fa-envelope-open text-primary"></i>
                                    </div>
                                    <span>info@example.com</span>
                                </div>
                            </div>
                            <div class="col-md-4 wow fadeIn" data-wow-delay="0.5s">
                                <div class="d-flex align-items-center bg-light rounded p-4">
                                    <div class="bg-white border rounded d-flex flex-shrink-0 align-items-center justify-content-center me-3" style="width: 45px; height: 45px;">
                                        <i class="fa fa-phone-alt text-primary"></i>
                                    </div>
                                    <span>+012 345 6789</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                        <iframe class="position-relative rounded w-100 h-100"
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3001156.4288297426!2d-78.01371936852176!3d42.72876761954724!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4ccc4bf0f123a5a9%3A0xddcfc6c1de189567!2sNew%20York%2C%20USA!5e0!3m2!1sen!2sbd!4v1603794290143!5m2!1sen!2sbd"
                            frameborder="0" style="min-height: 400px; border:0;" allowfullscreen="" aria-hidden="false"
                            tabindex="0"></iframe>
                    </div>
                    <div class="col-md-6">
                        <div class="wow fadeInUp" data-wow-delay="0.5s">
                            <p class="mb-4">The contact form is currently inactive. Get a functional and working contact form with Ajax & PHP in a few minutes. Just copy and paste the files, add a little code and you're done. <a href="https://htmlcodex.com/contact-form">Download Now</a>.</p>
                            <form id="contact-form" class="contact-form" method="POST">
                                {% csrf_token %}
                                <div class="row g-3">
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" id="name-field" name="name" placeholder="Your Name">
                                            <label for="name-field">Your Name</label>
                                            <div class="error"></div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <input type="email" class="form-control" id="email-field" name="email" placeholder="Your Email">
                                            <label for="email-field">Your Email</label>
                                            <div class="error"></div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" id="subject-field" name="subject" placeholder="Subject">
                                            <label for="subject-field">Subject</label>
                                            <div class="error"></div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <div class="form-floating">
                                            <textarea class="form-control" placeholder="Leave a message here" id="message-field" name="message" style="height: 150px"></textarea>
                                            <label for="message-field">Message</label>
                                            <div class="error"></div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <button class="btn btn-primary w-100 py-3" type="submit">Send Message</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Contact End -->
<script type="text/javascript">

$(document).ready(function(){
    const contactform = document.getElementById('contact-form');
    const fullname = document.getElementById('name-field');
    const email = document.getElementById('email-field');
    const subject = document.getElementById('subject-field');
    const message = document.getElementById('message-field');
    contactform.addEventListener('submit', e => {
        e.preventDefault();
        if(validateInputs()){
            contactform.submit();
        }
    });

    const isValidEmail = email => {
        const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(String(email).toLowerCase());
    }


    const isValidFullName = full_name => {
        var regName = /^[a-zA-Z]+ [a-zA-Z]+$/;
        return regName.test(full_name);
    }
    const setError = (element , message) => {
        const inputControl = element.parentElement;
        const errorDisplay = inputControl.querySelector('.error');
        errorDisplay.innerText = message;
        inputControl.classList.add('error');
        inputControl.classList.remove('success');

    }
    const setSuccess = (element) => {
        const inputControl = element.parentElement;
        const errorDisplay = inputControl.querySelector('.error');
        errorDisplay.innerText = "";
        inputControl.classList.add('success');
        inputControl.classList.remove('error');

    }

    const validateInputs = () => {
        var is_form_valid = true;
        const fullnameValue = fullname.value.trim();
        const emailValue = email.value.trim();
        const subjectValue = subject.value.trim();
        const messageValue = message.value.trim();

        if(fullnameValue === ''){
            setError(fullname, 'Fullname is required');
            is_form_valid = false;
        }
        else if(! isValidFullName(fullnameValue)){
            setError(fullname, 'Please enter your full name (first & last name).');
            is_form_valid = false;
        }
        else{
            setSuccess(fullname);
        }

        if(emailValue === ''){
            setError(email, 'Email is required');
            is_form_valid = false;
        }
        else if(!isValidEmail(emailValue)){
            setError(email, 'Invalid email');
            is_form_valid = false;
        }
        else{
            setSuccess(email);
        }
        if(subjectValue === ''){
            setError(subject,'Message field is required');
            is_form_valid = false;
        }
        else{
            setSuccess(subject)
        }

        if(messageValue === ''){
            setError(message,'Message field is required');
            is_form_valid = false;
        }
        else{
            setSuccess(message)
        }
        return is_form_valid;

    }

});


</script>


{% endblock %}